---
// Button.astro - 按钮组件
interface Props {
    href?: string;
    variant?: 'primary' | 'secondary' | 'outline';
    size?: 'sm' | 'md' | 'lg';
    class?: string;
    target?: string;
    rel?: string;
}

const { href, variant = 'primary', size = 'md', class: className = '', target, rel } = Astro.props;

const Element = href ? 'a' : 'button';
---

<Element href={href} target={target} rel={rel} class:list={['btn', `btn--${variant}`, `btn--${size}`, className, 'ripple-effect']}>
    <slot />
</Element>

<style>
    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        font-weight: 600;
        text-decoration: none;
        border-radius: 0.5rem;
        transition: all var(--duration-normal) var(--ease-out);
        cursor: pointer;
        border: none;
        position: relative;
        overflow: hidden;
    }

    /* 大小变体 */
    .btn--sm {
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
    }

    .btn--md {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
    }

    .btn--lg {
        padding: 1rem 2rem;
        font-size: 1.125rem;
    }

    /* 样式变体 */
    .btn--primary {
        background: linear-gradient(135deg, var(--color-primary-600), var(--color-primary-700));
        color: var(--color-text-primary);
        box-shadow: var(--shadow-glow);
    }

    .btn--primary:hover {
        background: linear-gradient(135deg, var(--color-primary-500), var(--color-primary-600));
        transform: translateY(-2px);
        box-shadow: var(--shadow-glow-cyan);
    }

    .btn--secondary {
        background: linear-gradient(135deg, var(--color-accent-purple), #8b3fc7);
        color: var(--color-text-primary);
        box-shadow: var(--shadow-glow-purple);
    }

    .btn--secondary:hover {
        background: linear-gradient(135deg, #b366f9, var(--color-accent-purple));
        transform: translateY(-2px);
    }

    .btn--outline {
        background: transparent;
        border: 2px solid var(--color-primary-600);
        color: var(--color-primary-300);
    }

    .btn--outline:hover {
        background: rgba(25, 118, 210, 0.1);
        border-color: var(--color-accent-cyan);
        color: var(--color-accent-cyan);
    }

    .btn:active {
        transform: translateY(0);
    }

    .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
    }
</style>
